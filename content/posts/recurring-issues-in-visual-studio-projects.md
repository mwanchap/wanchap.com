+++
title = "Recurring issues in Visual Studio projects"
date = 2019-08-15T22:06:00Z
updated = 2019-09-29T17:26:32Z
tags = ["Visual Studio", "Nuget"]
blogimport = true 
[author]
	name = "Matt Wanchap"
	uri = "https://www.blogger.com/profile/16465307324394182190"
+++

Common issues and solutions to errors I come across in Visual Studio on a semi-regular basis:<br /><br /><b>Problem:</b><br />"Could not find a part of the path â€¦ bin\roslyn\csc.exe"<br /><b>Solution:</b><br />Run this in Package Manager Console:<br />Update-Package Microsoft.CodeDom.Providers.DotNetCompilerPlatform -r<br /><br /><b>Problem:</b><br />"Creation of the virtual directory http://localhost:12345/ failed with the error: Cannot create the Web site"<br /><b>Solution:</b><br />Update .csproj file and set the following:<br />&lt;UseIISExpress&gt;true&lt;/UseIISExpress&gt;<br />In the &lt;VisualStudio&gt; element, set the following:<br />&lt;IISUrl&gt;http://localhost:1234&lt;/IISUrl&gt;<br /><br /><b>Problem:</b><br />"Could not load file or assembly [assembly name] or one of its dependencies. The located assembly's manifest definition does not match the assembly reference"<br /><b>Solution:</b><br />If it's a nuget package, check version of the assembly in packages.config, web.config and "References" section in solution explorer, one of them is probably wrong. Try reinstalling or updating the nuget package.<br /><br /><b>Problem:</b><br />"Creation of the virtual directory [site url] failed with the error : Unable to access the IIS metabase"<br /><b>Solution:</b><br />Restart Visual Studio as Administrator<br /><br /><b>Problem:</b><br />"HTTP Error 500.19 - Internal Server Error" in projects that use ASP.NET core and have a &lt;aspNetCore&gt; item in the web.config<br /><b>Solution:</b><br />Add "Development time IIS support" from in the Visual Studio installer, in "ASP.NET and Web Development" optional features section.<br /><br /><b>Problem:</b><br />When trying to process JSON data from an API that uses ASP.NET, you receive a "Newtonsoft.Json.JsonReaderException: Unexpected character encountered while parsing value: &lt;. Path '', line 0, position 0."<br /><b>Solution:</b><br />Newtonsoft is expecting to process JSON and getting a response starting with &lt; instead (i.e. it's XML). The API you're calling has probably failed and is throwing back an ASP.NET YSOD page containing HTML. See if you can hit the API directly some other way and check the error message. In my case the server was missing some IIS features and installing them fixed the problem.<br /><br /><b>Problem:</b><br />A .NET Core project won't open, with the error "Project file is incomplete. Expected imports are missing"<br /><b>Solution:</b><br />Open a terminal, navigate to the project directory and run these commands:<br />dotnet nuget locals -c all<br />dotnet clean<br />dotnet build<br />If that doesn't work: try "dotnet run" and watch the output, you might have the wrong version installed<br />If all that doesn't help either, it seems like this issue might occur from corrupted or missing .NET Core SDK installs. Uninstall it, ensure uninstalled versions are physically deleted from&nbsp;C:\Program Files\dotnet\sdk, and reinstall the version/s you need. Also make sure you don't have multiple installs of VS.<br /><br /><br />TODO:<br />"Can't create the virtual directory http://customdomain.local failed with the error: Cannot create the Web site"<br />Can't run .NET Core projects:<br />Install at least .NET Core SDK 2.2<br /><br />
